import{c as i,r as o,j as e,P as N,M as y,H as j,i as v,s as w}from"./index-C_5af4qj.js";import{A as S}from"./arrow-left-Cmdzrflb.js";const E=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],_=i("info",E);const C=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],A=i("loader-circle",C);const z=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],M=i("user-plus",z);const D=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],P=i("user",D),I=({project:r,navigateTo:c,setDonationData:p})=>{const[m,x]=o.useState(!1),[a,u]=o.useState({fullName:"",gender:"pria",waNumber:"",email:"",amount:"",forSomeoneElse:!1,someoneElseName:"",prayer:""}),[g]=o.useState([5e4,1e5,25e4,5e5,1e6]);o.useEffect(()=>{window.scrollTo(0,0)},[]);const t=s=>{const{name:n,value:d,type:l,checked:f}=s.target;u(k=>({...k,[n]:l==="checkbox"?f:d}))},h=s=>{u(n=>({...n,amount:s.toString()}))},b=async s=>{if(s.preventDefault(),!a.fullName||!a.waNumber||!a.amount){alert("Mohon lengkapi data wajib (Nama, WA, dan Nominal)");return}x(!0);try{const n={full_name:a.fullName,gender:a.gender,wa_number:a.waNumber,email:a.email||null,amount:parseInt(a.amount),for_someone_else:a.forSomeoneElse,someone_else_name:a.forSomeoneElse?a.someoneElseName:null,prayer:a.prayer||null,project_title:r?.title||"General",project_id:r?.id||null,status:"pending"};if(v){const{error:l}=await w.from("donations").insert([n]);if(l)throw l}const d=void 0;p({...a,projectTitle:r?.title}),c("checkout")}catch(n){console.error("Error saving donation:",n),alert("Gagal menyimpan data donasi. Silakan coba lagi.")}finally{x(!1)}};return e.jsx("section",{className:"pt-32 pb-20 bg-slate-50 dark:bg-slate-950 min-h-screen",children:e.jsxs("div",{className:"max-w-3xl mx-auto px-4",children:[e.jsxs("button",{onClick:()=>c("project-detail"),className:"flex items-center gap-2 text-slate-500 hover:text-green-600 font-bold mb-8 transition-colors",children:[e.jsx(S,{size:18})," Kembali ke Proyek"]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[2.5rem] shadow-2xl border border-slate-200 dark:border-slate-800 overflow-hidden",children:[e.jsxs("div",{className:"bg-green-600 p-8 text-white relative",children:[e.jsxs("div",{className:"relative z-10 text-center",children:[e.jsx("h2",{className:"text-3xl font-black mb-2",children:"Form Sedekah"}),e.jsx("p",{className:"opacity-90 font-medium",children:r?.title})]}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 blur-3xl"})]}),e.jsxs("form",{onSubmit:b,className:"p-8 md:p-12 space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"text-sm font-black uppercase tracking-widest text-slate-400 flex items-center gap-2",children:[e.jsx(P,{size:16})," Data Diri"]}),e.jsx("input",{type:"text",name:"fullName",required:!0,value:a.fullName,onChange:t,placeholder:"Nama Lengkap Anda",className:"w-full px-6 py-4 rounded-2xl bg-slate-50 dark:bg-slate-800 border-none focus:ring-2 focus:ring-green-500 outline-none transition-all font-bold text-slate-900 dark:text-white"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex-1 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"gender",value:"pria",checked:a.gender==="pria",onChange:t,className:"hidden peer"}),e.jsx("div",{className:"py-4 text-center rounded-2xl border-2 border-slate-100 dark:border-slate-800 peer-checked:border-green-500 peer-checked:bg-green-50 dark:peer-checked:bg-green-900/20 peer-checked:text-green-600 font-bold transition-all text-slate-500",children:"Pria"})]}),e.jsxs("label",{className:"flex-1 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"gender",value:"wanita",checked:a.gender==="wanita",onChange:t,className:"hidden peer"}),e.jsx("div",{className:"py-4 text-center rounded-2xl border-2 border-slate-100 dark:border-slate-800 peer-checked:border-green-500 peer-checked:bg-green-50 dark:peer-checked:bg-green-900/20 peer-checked:text-green-600 font-bold transition-all text-slate-500",children:"Wanita"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-xs font-black uppercase tracking-widest text-slate-400 flex items-center gap-2 ml-1",children:[e.jsx(N,{size:14})," Nomor WA"]}),e.jsx("input",{type:"tel",name:"waNumber",required:!0,value:a.waNumber,onChange:t,placeholder:"0812xxxx",className:"w-full px-6 py-4 rounded-2xl bg-slate-50 dark:bg-slate-800 border-none focus:ring-2 focus:ring-green-500 outline-none transition-all font-bold"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-xs font-black uppercase tracking-widest text-slate-400 flex items-center gap-2 ml-1",children:[e.jsx(y,{size:14})," Email (Opsional)"]}),e.jsx("input",{type:"email",name:"email",value:a.email,onChange:t,placeholder:"email@anda.com",className:"w-full px-6 py-4 rounded-2xl bg-slate-50 dark:bg-slate-800 border-none focus:ring-2 focus:ring-green-500 outline-none transition-all font-bold"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"text-sm font-black uppercase tracking-widest text-slate-400 flex items-center gap-2",children:[e.jsx(j,{size:16})," Nominal Sedekah"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:g.map(s=>e.jsxs("button",{type:"button",onClick:()=>h(s),className:`py-4 rounded-2xl border-2 font-black transition-all ${a.amount===s.toString()?"border-green-500 bg-green-50 dark:bg-green-900/20 text-green-600":"border-slate-100 dark:border-slate-800 text-slate-500 hover:border-green-200"}`,children:["Rp ",s.toLocaleString("id-ID")]},s))}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-6 top-1/2 -translate-y-1/2 font-black text-slate-400",children:"Rp"}),e.jsx("input",{type:"number",name:"amount",required:!0,value:a.amount,onChange:t,placeholder:"Nominal Lainnya...",className:"w-full pl-14 pr-6 py-5 rounded-2xl bg-slate-50 dark:bg-slate-800 border-none focus:ring-2 focus:ring-green-500 outline-none transition-all font-black text-xl text-green-600"})]})]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-6 rounded-3xl border border-slate-100 dark:border-slate-700",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",name:"forSomeoneElse",checked:a.forSomeoneElse,onChange:t,className:"w-5 h-5 rounded border-slate-300 text-green-600 focus:ring-green-500 transition-all cursor-pointer"}),e.jsxs("span",{className:"font-bold text-slate-700 dark:text-slate-300 group-hover:text-green-600 flex items-center gap-2",children:[e.jsx(M,{size:18})," Sedekah atas nama orang lain?"]})]}),a.forSomeoneElse&&e.jsx("div",{className:"mt-4 animate-in slide-in-from-top-2 duration-300",children:e.jsx("input",{type:"text",name:"someoneElseName",value:a.someoneElseName,onChange:t,placeholder:"Ketik Nama (Contoh: Almarhum Ayah Saya)",className:"w-full px-6 py-4 rounded-2xl bg-white dark:bg-slate-900 border-none focus:ring-2 focus:ring-green-500 outline-none transition-all font-bold"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-sm font-black uppercase tracking-widest text-slate-400 flex items-center gap-2",children:"Titip Doa"}),e.jsx("textarea",{name:"prayer",value:a.prayer,onChange:t,rows:4,placeholder:"Tulis doa atau harapan Anda di sini. InsyaAllah akan dibacakan oleh santri pengahafal Al Quran / penerima manfaat...",className:"w-full px-6 py-4 rounded-2xl bg-slate-50 dark:bg-slate-800 border-none focus:ring-2 focus:ring-green-500 outline-none transition-all font-medium text-slate-700 dark:text-slate-300 resize-none h-32"}),e.jsxs("div",{className:"flex items-start gap-2 text-[10px] text-slate-400 italic",children:[e.jsx(_,{size:12,className:"shrink-0 mt-0.5"}),"Doa Anda akan disampaikan kepada santri penghafal Quran & Penerima Manfaat."]})]}),e.jsx("button",{type:"submit",disabled:m,className:"w-full py-6 bg-green-600 text-white font-black text-xl rounded-3xl hover:bg-green-700 hover:shadow-2xl hover:shadow-green-500/30 transition-all active:scale-95 flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:m?e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"animate-spin",size:24})," Memproses..."]}):"Lanjutkan Pembayaran"})]})]})]})})};export{I as default};
