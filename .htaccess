<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /
  
  # 1. Allow access to the /api, /media, and /assets directories directly
  RewriteCond %{REQUEST_URI} ^/api/ [OR]
  RewriteCond %{REQUEST_URI} ^/media/ [OR]
  RewriteCond %{REQUEST_URI} ^/assets/
  RewriteRule ^ - [L]

  # 2. Handle SPA routing (fallback to index.html)
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule . /index.html [L]
</IfModule>
